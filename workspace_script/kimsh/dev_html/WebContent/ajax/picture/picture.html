<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>그림소개</title>
		
		<link rel="stylesheet" type="text/css" href="pictureMain.css">
		<script type="text/javascript" src="http://code.jquery.com/jquery-3.4.1.js"></script>
		
		<!-- css => style -->
		<style type="text/css">
			table{
				border: 1px solid black;
			}
		</style>
			<script type="text/javascript">
				function startMethod(td){//td가 가리키는 것이 this
					//$("#d_detail").attr("left",150);
					//$("#d_detail").attr("top",100);
					//사용자가 마우스 오버한 그림 파일명을 받아오기 위해 u_pic을 만들었다.
					var u_pic = $(td).attr("id");//attribute, 속성이름이 id이다.
					//alert("사용자가 마우스 오버한 그림 파일명:"+u_pic);
					$.ajax({
						method: "post"
//						,url:"pictureInfo.jsp?id="+u_pic+"&timestamp="+new Date().getTime()
						,url:"pictureInfo.jsp"
						,data: "id="+u_pic
						,success:function(result){
							alert(result);
							$("#d_detail").css("left", td.offsetLeft+125+"px");
							$("#d_detail").css("top", td.offsetTop+"px");
							$("#d_detail").html(result);
						};
					});
					
				}
				
				function clearMethod(){
					$("#d_detail").html("");
				}
			</script>
	</head>
	
	<body>
		<div id="d_detail">여기</div>
		
		<table>
			<thead>
				<th colspan="2">그림 목록</th>
			</thead>
			<tbody>
				<tr>
					<!--
					startMethod에 (this)를 넘긴 이유
					this가 가리키는 것은 td태그이다.
					td태그를 기준으로 위치를 계산하기 위해서.
					=> 우측에 나타나는 화면의 시작 높이를 맞추기 위해서.
					  -->
					<td align="center"><img src="picture1.jpg" width="50" height="50"/></td>
					<td id="picture1.jpg" onmouseover="startMethod(this)" onmouseout="clearMethod()">추상화1</td>
				</tr>
				<tr>
					<td align="center"><img src="picture2.jpg" width="50" height="50"/></td>
					<td id="picture2.jpg" onmouseover="startMethod(this)" onmouseout="clearMethod()">추상화2</td>
				</tr>
				<tr>
					<td align="center"><img src="picture3.jpg" width="50" height="50"/></td>
					<td id="picture3.jpg" onmouseover="startMethod(this)" onmouseout="clearMethod()">추상화3</td>
				</tr>
				<tr>
					<td align="center"><img src="picture4.jpg" width="50" height="50"/></td>
					<td id="picture4.jpg" onmouseover="startMethod(this)" onmouseout="clearMethod()">추상화4</td>
				</tr>
			</tbody>
		</table>
	</body>
</html>